<!DOCTYPE html><html lang="en-us"><head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta property="og:description" content="Harvard Universty's introduction to the intellectual enterprises of computer science and the art of programming.">

<meta property="og:image" content="https://img.youtube.com/vi/zYierUhIFNQ/maxresdefault.jpg"><meta property="og:title" content="Lab 5: Inheritance - CS50x 2021"><link href="../../favicon.ico%3F1610389211" rel="icon">

<!-- https://fonts.google.com/specimen/PT+Sans?query=PT+Sans&selection.family=PT+Sans:ital,wght@0,400;0,700;1,400;1,700 -->
<script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"></script>

<!-- http://getbootstrap.com/docs/4.5/getting-started/introduction/ -->
<script src="../../assets/jquery/dist/jquery.min.js%3F1610389211"></script>
<script src="../../assets/bootstrap/dist/js/bootstrap.bundle.min.js%3F1610389211"></script>

<!-- https://bootstrap-table.com/docs/getting-started/introduction/ -->
<link href="../../assets/bootstrap-table/dist/bootstrap-table.min.css%3F1610389211.css" rel="stylesheet">
<script src="../../assets/bootstrap-table/dist/bootstrap-table.min.js%3F1610389211"></script>
<script src="../../assets/bootstrap-table/dist/extensions/mobile/bootstrap-table-mobile.min.js%3F1610389211"></script>

<!-- https://fontawesome.com/how-to-use/on-the-web/referencing-icons/basic-use -->
<link href="../../assets/@fortawesome/fontawesome-free/css/all.min.css%3F1610389211.css" rel="stylesheet">

<!-- https://moment.github.io/luxon/ -->
<script src="../../assets/luxon.min.js%3F1610389211"></script>

<!-- http://docs.mathjax.org/ -->
<!-- https://www.jsdelivr.com/package/npm/mathjax?path=es5 -->
<script crossorigin="anonymous" integrity="sha256-+nfSJ1LiSvANSK3wvi6FjM+oFwoIQvURU1frozp5z6o=" src="https://cdn.jsdelivr.net/npm/mathjax@3.1.2/es5/tex-chtml.js"></script>

<!-- https://github.com/verlok/vanilla-lazyload -->
<script src="https://cdn.jsdelivr.net/npm/intersection-observer@0.7.0/intersection-observer.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.3.0/dist/lazyload.min.js"></script>



<link href="../../assets/page.css%3F1610389211.css" rel="stylesheet">
<script src="../../assets/jekyll-theme-cs50.js%3F1610389211"></script>

<script>
    window.CS50 = {
        locale: "en",
        tz: "America/New_York"
    };
</script>

<title>Lab 5: Inheritance - CS50x 2021</title>
</head>

    <body class="invisible">

        
        
        
        <div class="alert alert-dismissible fixed-top mb-0 rounded-0 shadow" data-alert="success" id="alert" role="alert">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">√ó</span>
            </button><p>This is CS50x 2021, the newest version of the course. Looking for <a href="https://cs50.harvard.edu/x/2020/">CS50x 2020</a>?</p></div>
        
        

        <div class="container-fluid">

            <div class="row">

                <aside class="col-md">
 
                    <header><h1 data-id="this-is-cs50x"><a href="../../index.html">This is CS50x</a></h1>

<p>OpenCourseWare</p>

<p><a href="https://community.alumni.harvard.edu/give/59206872" class="pr-1 small">Donate</a>
<a href="https://community.alumni.harvard.edu/give/59206872" class="small"><i aria-hidden="true" class="fas fa-external-link-alt"></i></a></p>

<p><a href="https://cs.harvard.edu/malan/">David J. Malan</a><br>
<a href="mailto:malan@harvard.edu">malan@harvard.edu</a><br>
<a href="https://www.facebook.com/dmalan" class="mr-2"><i class="fab fa-facebook-f"></i></a><a href="https://github.com/dmalan" class="mr-2"><i class="fab fa-github"></i></a><a href="https://www.instagram.com/davidjmalan/" class="mr-2"><i class="fab fa-instagram"></i></a><a href="https://www.linkedin.com/in/malan/" class="mr-2"><i class="fab fa-linkedin"></i></a><a href="https://www.quora.com/profile/David-J-Malan" class="mr-2"><i class="fab fa-quora"></i></a><a href="https://www.reddit.com/user/davidjmalan" class="mr-2"><i class="fab fa-reddit-alien"></i></a><a href="https://twitter.com/davidjmalan" class="mr-2"><i class="fab fa-twitter"></i></a></p></header>

                    

                    <button aria-controls="nav" aria-expanded="false" class="btn btn-sm collapsed d-md-none" data-target="aside > nav" data-toggle="collapse">
                        Menu
                    </button>

                    <nav class="collapse d-md-block" id="nav"><hr>

<ul>
  <li data-marker="*"><a href="../../seminars/index.html">CS50‚Äôs New Year‚Äôs Seminars</a> <span class="text-white">ü•Ç</span></li>
  <li data-marker="*"><a href="../../gallery/index.html">Gallery of Final Projects</a> <span class="pl-1 text-white">üñºÔ∏è </span></li>
  <li data-marker="*"><a href="../../new/index.html">What‚Äôs new for 2021?</a></li>
</ul>
<ul>
  <li data-marker="*"><a href="../../weeks/0/index.html">Week 0</a> Scratch</li>
  <li data-marker="*"><a href="../../weeks/1/index.html">Week 1</a> C</li>
  <li data-marker="*"><a href="../../weeks/2/index.html">Week 2</a> Arrays</li>
  <li data-marker="*"><a href="../../weeks/3/index.html">Week 3</a> Algorithms</li>
  <li data-marker="*"><a href="../../weeks/4/index.html">Week 4</a> Memory</li>
  <li data-marker="*"><a href="../../weeks/5/index.html">Week 5</a> Data Structures</li>
  <li data-marker="*"><a href="../../weeks/6/index.html">Week 6</a> Python</li>
  <li data-marker="*"><a href="../../weeks/7/index.html">Week 7</a> SQL</li>
  <li data-marker="*"><a href="../../weeks/8/index.html">Week 8</a> HTML, CSS, JavaScript</li>
  <li data-marker="*"><a href="../../weeks/9/index.html">Week 9</a> Flask</li>
  <li data-marker="*"><a href="../../weeks/10/index.html">Week 10</a> Ethics</li>
</ul>
<ul>
  <li data-marker="*" class="small"><a href="../../weeks/security/index.html">Security</a></li>
  <li data-marker="*" class="small"><a href="../../weeks/ai/index.html">Artificial Intelligence</a></li>
</ul>
<ul>
  <li data-marker="*"><a href="../../project/index.html">Final Project</a></li>
</ul>

<hr>

<ul>
  <li data-marker="*"><a href="../../honesty/index.html">Academic Honesty</a></li>
  <li data-marker="*"><a href="../../certificate/index.html">CS50 Certificate</a></li>
  <li data-marker="*"><a href="../../faqs/index.html">FAQs</a></li>
  <li data-marker="*"><a href="https://cs50.me/cs50x">Gradebook</a></li>
  <li data-marker="*"><a href="../../staff/index.html">Staff</a></li>
  <li data-marker="*"><a href="../../syllabus/index.html">Syllabus</a></li>
</ul>

<hr>

<ul>
  <li data-marker="*"><a href="https://cs50.harvard.edu/x/ed">Ed Discussion</a> for Q&amp;A</li>
  <li data-marker="*" class="small"><a href="https://us.edstem.org/quickstart/ed-discussion.pdf">Quick Start Guide</a></li>
</ul>

<hr>

<ul class="small">
  <li data-marker="*"><a href="https://cs50.edx.org/">edX</a></li>
  <li data-marker="*"><a href="https://www.youtube.com/playlist?list=PLhQjrBD2T382_R182iC2gNZI9HzWFMC_8">YouTube</a></li>
</ul>

<hr>

<ul class="small">
  <li data-marker="*"><a href="https://ide.cs50.io/">CS50 IDE</a></li>
  <li data-marker="*"><a href="https://www.w3schools.com/css/">CSS Tutorial</a></li>
  <li data-marker="*"><a href="https://flask.palletsprojects.com/en/1.1.x/quickstart/">Flask Quickstart</a></li>
  <li data-marker="*"><a href="https://www.w3schools.com/html/">HTML Tutorial</a></li>
  <li data-marker="*"><a href="https://jinja.palletsprojects.com/en/2.11.x/templates/">Jinja Template Designer Documentation</a></li>
  <li data-marker="*"><a href="https://man.cs50.io/">Manual Pages</a></li>
  <li data-marker="*"><a href="https://docs.python.org/3.7/search.html">Python Documentation</a></li>
  <li data-marker="*"><a href="https://scratch.mit.edu/">Scratch</a></li>
  <li data-marker="*"><a href="https://www.w3schools.com/sql/">SQL Tutorial</a></li>
  <li data-marker="*"><a href="https://cs50.readthedocs.io/style/c/">Style Guide</a></li>
</ul>

<hr>

<ul class="small">
  <li data-marker="*"><a href="https://cs50.noticeable.io/">Changelog</a></li>
  <li data-marker="*"><a href="https://cs50.statuspage.io/">Status Page</a></li>
</ul>

<hr>

<ul>
  <li data-marker="*"><a href="../../communities/index.html">Communities</a></li>
  <li data-marker="*" class="small"><a href="https://discord.gg/cs50">Discord</a></li>
  <li data-marker="*" class="small"><a href="https://www.facebook.com/groups/cs50/">Facebook Group</a></li>
  <li data-marker="*" class="small"><a href="https://www.facebook.com/cs50/">Facebook Page</a></li>
  <li data-marker="*" class="small"><a href="https://github.com/cs50">GitHub</a></li>
  <li data-marker="*" class="small"><a href="https://gitter.im/cs50/x">Gitter</a></li>
  <li data-marker="*" class="small"><a href="https://instagram.com/cs50">Instagram</a></li>
  <li data-marker="*" class="small"><a href="https://www.linkedin.com/groups/7437240/">LinkedIn Group</a></li>
  <li data-marker="*" class="small"><a href="https://www.linkedin.com/school/CS50/">LinkedIn Page</a></li>
  <li data-marker="*" class="small"><a href="https://www.quora.com/topic/CS50">Quora</a></li>
  <li data-marker="*" class="small"><a href="https://www.reddit.com/r/cs50/">Reddit</a></li>
  <li data-marker="*" class="small"><a href="https://cs50.edx.org/slack">Slack</a></li>
  <li data-marker="*" class="small"><a href="https://www.snapchat.com/add/cs50">Snapchat</a></li>
  <li data-marker="*" class="small"><a href="https://soundcloud.com/cs50">SoundCloud</a></li>
  <li data-marker="*" class="small"><a href="https://twitter.com/cs50">Twitter</a></li>
  <li data-marker="*" class="small"><a href="http://www.youtube.com/subscription_center?add_user=cs50tv">YouTube</a></li>
</ul>

<hr>

<p><a href="https://cs50.harvardshop.com/"><img src="https://i.imgur.com/GGMdcKt.png" alt="Harvard Shop"></a></p>

<hr>

<p><a href="../../license/index.html" class="small"><i class="fab fa-creative-commons mr-1"></i>License</a></p></nav>

                    <footer></footer>

                </aside>

                <main class="col-md">

                    <h1 id="lab-5-inheritance">Lab 5: Inheritance</h1>

<div class="alert" data-alert="warning" role="alert"><p>You are welcome to collaborate with one or two classmates on this lab, though it is expected that every student in any such group contribute equally to the lab.</p></div>

<p>Simulate the inheritance of blood types for each member of a family.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ ./inheritance
Generation 0, blood type OO
    Generation 1, blood type AO
        Generation 2, blood type OA
        Generation 2, blood type BO
    Generation 1, blood type OB
        Generation 2, blood type AO
        Generation 2, blood type BO

</code></pre></div></div>

<h2 id="when-to-do-it">When to Do It</h2>

<p>By <span data-local="2021-12-31T23:59:00-05:00"></span>.</p>

<h2 id="background">Background</h2>

<p>A person‚Äôs blood type is determined by two alleles (i.e., different forms of a gene). The three possible alleles are A, B, and O, of which each person has two (possibly the same, possibly different). Each of a child‚Äôs parents randomly passes one of their two blood type alleles to their child. The possible blood type combinations, then, are: OO, OA, OB, AO, AA, AB, BO, BA, and BB.</p>

<p>For example, if one parent has blood type AO and the other parent has blood type BB, then the child‚Äôs possible blood types would be AB and OB, depending on which allele is received from each parent. Similarly, if one parent has blood type AO and the other OB, then the child‚Äôs possible blood types would be AO, OB, AB, and OO.</p>

<h2 id="getting-started">Getting Started</h2>

<p>Create a new directory in your IDE called <code class="language-plaintext highlighter-rouge">lab5</code>. In that directory, execute <code class="language-plaintext highlighter-rouge">wget https://cdn.cs50.net/2020/fall/labs/5/inheritance.c</code> to download the distribution code for this project.</p>

<h2 id="understanding">Understanding</h2>

<p>Take a look at the distribution code in <code class="language-plaintext highlighter-rouge">inheritance.c</code>.</p>

<p>Notice the definition of a type called <code class="language-plaintext highlighter-rouge">person</code>. Each person has an array of two <code class="language-plaintext highlighter-rouge">parents</code>, each of which is a pointer to another <code class="language-plaintext highlighter-rouge">person</code> struct. Each person also has an array of two <code class="language-plaintext highlighter-rouge">alleles</code>, each of which is a <code class="language-plaintext highlighter-rouge">char</code> (either <code class="language-plaintext highlighter-rouge">'A'</code>, <code class="language-plaintext highlighter-rouge">'B'</code>, or <code class="language-plaintext highlighter-rouge">'O'</code>).</p>

<p>Now, take a look at the <code class="language-plaintext highlighter-rouge">main</code> function. The function begins by ‚Äúseeding‚Äù (i.e., providing some initial input to) a random number generator, which we‚Äôll use later to generate random alleles. The <code class="language-plaintext highlighter-rouge">main</code> function then calls the <code class="language-plaintext highlighter-rouge">create_family</code> function to simulate the creation of <code class="language-plaintext highlighter-rouge">person</code> structs for a family of 3 generations (i.e. a person, their parents, and their grandparents). We then call <code class="language-plaintext highlighter-rouge">print_family</code> to print out each of those family members and their blood types. Finally, the function calls <code class="language-plaintext highlighter-rouge">free_family</code> to <code class="language-plaintext highlighter-rouge">free</code> any memory that was previously allocated with <code class="language-plaintext highlighter-rouge">malloc</code>.</p>

<p>The <code class="language-plaintext highlighter-rouge">create_family</code> and <code class="language-plaintext highlighter-rouge">free_family</code> functions are left to you to write!</p>

<h2 id="implementation-details">Implementation Details</h2>

<p>Complete the implementation of <code class="language-plaintext highlighter-rouge">inheritance.c</code>, such that it creates a family of a specified generation size and assigns blood type alleles to each family member. The oldest generation will have alleles assigned randomly to them.</p>

<ul>
  <li data-marker="*">The <code class="language-plaintext highlighter-rouge">create_family</code> function takes an integer (<code class="language-plaintext highlighter-rouge">generations</code>) as input and should allocate (as via <code class="language-plaintext highlighter-rouge">malloc</code>) one <code class="language-plaintext highlighter-rouge">person</code> for each member of the family of that number of generations, returning a pointer to the <code class="language-plaintext highlighter-rouge">person</code> in the youngest generation.
    <ul>
      <li data-marker="*">For example, <code class="language-plaintext highlighter-rouge">create_family(3)</code> should return a pointer to a person with two parents, where each parent also has two parents.</li>
      <li data-marker="*">Each <code class="language-plaintext highlighter-rouge">person</code> should have <code class="language-plaintext highlighter-rouge">alleles</code> assigned to them. The oldest generation should have alleles randomly chosen (as by calling the <code class="language-plaintext highlighter-rouge">random_allele</code> function), and younger generations should inherit one allele (chosen at random) from each parent.</li>
      <li data-marker="*">Each <code class="language-plaintext highlighter-rouge">person</code> should have <code class="language-plaintext highlighter-rouge">parents</code> assigned to them. The oldest generation should have both <code class="language-plaintext highlighter-rouge">parents</code> set to <code class="language-plaintext highlighter-rouge">NULL</code>, and younger generations should have <code class="language-plaintext highlighter-rouge">parents</code> be an array of two pointers, each pointing to a different parent.</li>
    </ul>
  </li>
</ul>

<p>We‚Äôve divided the <code class="language-plaintext highlighter-rouge">create_family</code> function into a few <code class="language-plaintext highlighter-rouge">TODO</code>s for you to complete.</p>

<ul>
  <li data-marker="*">First, you should allocate memory for a new person. Recall that you can use <code class="language-plaintext highlighter-rouge">malloc</code> to allocate memory, and <code class="language-plaintext highlighter-rouge">sizeof(person)</code> to get the number of bytes to allocate.</li>
  <li data-marker="*">Next, we‚Äôve included a condition to check if <code class="language-plaintext highlighter-rouge">generations &gt; 1</code>.
    <ul>
      <li data-marker="*">If <code class="language-plaintext highlighter-rouge">generations &gt; 1</code>, then there are more generations that still need to be allocated. Your function should set both <code class="language-plaintext highlighter-rouge">parents</code> by recursively calling <code class="language-plaintext highlighter-rouge">create_family</code>. (How many <code class="language-plaintext highlighter-rouge">generations</code> should be passed as input to each parent?) The function should then set both <code class="language-plaintext highlighter-rouge">alleles</code> by randomly choosing one allele from each parent.</li>
      <li data-marker="*">Otherwise (if <code class="language-plaintext highlighter-rouge">generations == 1</code>), then there will be no parent data for this person. Both <code class="language-plaintext highlighter-rouge">parents</code> should be set to <code class="language-plaintext highlighter-rouge">NULL</code>, and each <code class="language-plaintext highlighter-rouge">allele</code> should be generated randomly.</li>
    </ul>
  </li>
  <li data-marker="*">Finally, your function should return a pointer for the <code class="language-plaintext highlighter-rouge">person</code> that was allocated.</li>
</ul>

<p>The <code class="language-plaintext highlighter-rouge">free_family</code> function should accept as input a pointer to a <code class="language-plaintext highlighter-rouge">person</code>, free memory for that person, and then recursively free memory for all of their ancestors.</p>

<ul>
  <li data-marker="*">Since this is a recursive function, you should first handle the base case. If the input to the function is <code class="language-plaintext highlighter-rouge">NULL</code>, then there‚Äôs nothing to free, so your function can return immediately.</li>
  <li data-marker="*">Otherwise, you should recursively <code class="language-plaintext highlighter-rouge">free</code> both of the person‚Äôs parents before <code class="language-plaintext highlighter-rouge">free</code>ing the child.</li>
</ul>

<h3 id="walkthrough">Walkthrough</h3>

<div class="border embed-responsive embed-responsive-16by9" data-video=""><iframe allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" class="embed-responsive-item" src="https://video.cs50.io/9p7ddI3ozTY"></iframe></div>

<h3 id="hints">Hints</h3>

<ul>
  <li data-marker="*">You might find the <code class="language-plaintext highlighter-rouge">rand()</code> function useful for randomly assigning alleles. This function returns an integer between <code class="language-plaintext highlighter-rouge">0</code> and <code class="language-plaintext highlighter-rouge">RAND_MAX</code>, or <code class="language-plaintext highlighter-rouge">32767</code>.
    <ul>
      <li data-marker="*">In particular, to generate a pseudorandom number that is either <code class="language-plaintext highlighter-rouge">0</code> or <code class="language-plaintext highlighter-rouge">1</code>, you can use the expression <code class="language-plaintext highlighter-rouge">rand() % 2</code>.</li>
    </ul>
  </li>
  <li data-marker="*">Remember, to allocate memory for a particular person, we can use <code class="language-plaintext highlighter-rouge">malloc(n)</code>, which takes a size as argument and will allocate <code class="language-plaintext highlighter-rouge">n</code> bytes of memory.</li>
  <li data-marker="*">Remember, to access a variable via a pointer, we can use arrow notation.
    <ul>
      <li data-marker="*">For example, if <code class="language-plaintext highlighter-rouge">p</code> is a pointer to a person, then a pointer to this person‚Äôs first parent can be accessed by <code class="language-plaintext highlighter-rouge">p-&gt;parents[0]</code>.</li>
    </ul>
  </li>
</ul>

<h3 id="how-to-test-your-code">How to Test Your Code</h3>

<p>Upon running <code class="language-plaintext highlighter-rouge">./inheritance</code>, your program should adhere to the rules described in the background. The child should have two alleles, one from each parent. The parents should each have two alleles, one from each of their parents.</p>

<p>For example, in the example below, the child in Generation 0 received an O allele from both Generation 1 parents. The first parent received an A from the first grandparent and a O from the second grandparent. Similarly, the second parent received an O and a B from their grandparents.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ ./inheritance
Generation 0, blood type OO
    Generation 1, blood type AO
        Generation 2, blood type OA
        Generation 2, blood type BO
    Generation 1, blood type OB
        Generation 2, blood type AO
        Generation 2, blood type BO

</code></pre></div></div>

<details><summary>Not sure how to solve?</summary><div class="border embed-responsive embed-responsive-16by9" data-video=""><iframe allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" class="embed-responsive-item" src="https://video.cs50.io/H7LULatPwcQ"></iframe></div></details>

<p>Execute the below to evaluate the correctness of your code using <code class="language-plaintext highlighter-rouge">check50</code>. But be sure to compile and test it yourself as well!</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>check50 cs50/labs/2021/x/inheritance
</code></pre></div></div>

<p>Execute the below to evaluate the style of your code using <code class="language-plaintext highlighter-rouge">style50</code>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>style50 inheritance.c
</code></pre></div></div>

<h2 id="how-to-submit">How to Submit</h2>

<p>Execute the below, logging in with your GitHub username and password when prompted. For security, you‚Äôll see asterisks (<code class="language-plaintext highlighter-rouge">*</code>) instead of the actual characters in your password.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>submit50 cs50/labs/2021/x/inheritance
</code></pre></div></div>


                </main>

            </div>

        </div>

        
 
    


</body></html>